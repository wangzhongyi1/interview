# 三次握手四次挥手

## 三次握手

一句话总结就是 发送请求、请求确认、请求确认再确认，是为了证明双方都有收发的能力

怎么理解呢？

- 首先 发送请求 是浏览器向服务器发送连接请求，这一步证明了浏览器有发的能力
- 然后 服务端收到请求，然后回浏览器一条请求确认的消息，这一步证明了服务器具有收和发的能力，但服务器还不能确认浏览器有收消息的能力
- 最后 浏览器给服务器发送确认请求，证明了双发都有收发消息的能力

## 四次挥手

也是围绕着双发收发消息来的

- 首先浏览器向服务器发送关闭连接请求
    + 此时浏览器还保留着收发能力，因为不确定服务器已经收到消息
- 服务器接收到关闭连接请求，回消息告诉浏览器说我知道了
- 紧接着服务器又向浏览器发送消息，此时服务器关闭发的能力
- 最后浏览器给服务器回确认消息，浏览器关闭收和发的能力，服务器接收到请求后关闭了收的能力

## 是否可以三次挥手

其实是可以三次挥手的，如果开启了`TCP延迟确认机制`，第二次和第三次挥手就会合并传输，这样就出现了三次挥手
